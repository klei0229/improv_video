<!DOCTYPE HTML>
<html>

<head>
    <title>Improv Chatroom</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/chatroom.css">
</head>

<body>
    <div style="display:none">
        <!-- audio and video html from agora.io -->
        <div class="select">
            <label for="audioSource">Audio source: </label><select id="audioSource"></select>
        </div>
        <div class="select">
            <label for="videoSource">Video source: </label><select id="videoSource"></select>
        </div>
    </div>


    <!-- agora.io video template including video session setup and video interface buttons -->
    <div id="wrapper">
        <div class="room-name-title" id="room-name"></div>
        <div class="main-container">
            <div id="video-container-parent">
                <div id="video-container" class="video-container">
                    <div id="video-container-multiple"></div>

                    <div class="toolbar">
                        <ul>

                            <li>
                                <a class="mute-button" href="#"><img src="images/btn_mute@2x.png" alt="Mute"></a>
                            </li>

                            <li>
                                <a class="end-call-button" href="#"><img src="images/btn_endcall@2x.png" alt="End"></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="video-side-bar">
                <div class="video-operation-bar"><span class="video-operation-btn list-switch-audio-btn"></span> <span class="video-operation-btn list-hang-up-btn"></span> <span class="video-operation-btn list-close-btn"></span></div>
            </div>
            <div class="info"></div>
        </div>

        <!-- end main container -->
        <!-- second container -->
        <div class = "container-2">
            <h1>Session Details</h1>
            <h3>Improv with the other performer using the different prompts shown below. Prompts will be randomly generated. 

            </h3>

                <div id="clockdiv">
                    <script>
                    function startTimer() {
                    
                    console.log("Start Timer was pressed.")
                    display = document.querySelector('#room-timer');
                    duration = 5*60;

                    var timer = duration, minutes, seconds;
                    
                    setInterval(function () {
                        minutes = parseInt(timer / 60, 10)
                        seconds = parseInt(timer % 60, 10);

                        minutes = minutes < 10 ? "0" + minutes : minutes;
                        seconds = seconds < 10 ? "0" + seconds : seconds;

                        display.textContent = "Room Timer: " + minutes + ":" + seconds;

                        if (--timer < 0) {
                            timer = duration;
                        }
                    }, 1000);
                }

                    </script>
                </div>

           

            
            <h3 id = "room-timer">Room Timer: 5:00</h3>         
            <h3 id = "promptid">Current Prompt: Visiting the dentist</h3>
            <h3 id = "actor1">Actor 1: Dentist</h3>
            <h3 id = "actor2">Actor 2: Patient</h3>

            <button id="startbutton"  onclick="startTimer()">Start Timer</button>

            <button id="nextButton" onclick="nextPrompt()">Next Prompt</button>
            
            <h3>The session will end after the timer has reached 0:00</h3>

            
                <iframe src="http://improvproject3.herokuapp.com/" width="400" height="460">
                    <p>Text Chat Box.</p>
                </iframe>
                
        	</div>
        </div>


    <script src="js/vendor-bundle.js?v=1.14.0"></script>
    <script src="js/AgoraRTCSDK-1.14.0.js"></script>
    <script src="js/chatroom.js"></script>



</body>